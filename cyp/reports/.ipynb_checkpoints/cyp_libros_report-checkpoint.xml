<odoo>
    <data>
        <report
            id="cyp_wizard_libros_report"
            model="cyp.wizard_libros"
            string="Wizard Libros"
            report_type="qweb-pdf"
            name="cyp.cyp_wizard_libros"
            file="cyp.cyp_wizard_libros_report"
            attachment_use="True"
            print_report_name="(object.id)"
            paperformat="base.paperformat_us"
        />
        
        <template id="cyp_wizard_libros">
            <t t-call="web.html_container">
                
              <t t-foreach="docs" t-as="doc">
                  <div class="header">
                      <span>
                          REPORTE DE LIBROS
                      </span>
                  </div>
                  
                  <t t-set="total_paginas" t-value="0"/>
                  <!--  POR CADA LIBRO  -->
                  <t t-foreach="doc.libros" t-as="libros">
                      <t t-set="total_paginas" t-value="total_paginas+libros.numero_paginas"/> 
                      
                      <t t-if="libros.numero_paginas > 100">
                          <t t-set="tamano_libro" t-value="'ESTE LIBRO ES MUY EXTENSO'"/>
                      </t>
                      <t t-elif="libros.numero_paginas > 50">
                          <t t-set="tamano_libro" t-value="'ESTE LIBRO ES MEDIANAMENTE EXTENSO'"/>
                      </t>
                      <t t-else="">
                          <t t-set="tamano_libro" t-value="'ESTE LIBRO ES UN POCO EXTENSO'"/>
                      </t>
                      
                      <table border="1">
                          <tr>
                              <th height="50" width="100%" style="color:red" colspan="4"><t t-esc="libros.name_libro"/></th>
                          </tr>
                          
                          <tr>
                              <td height="50" width="200" style="text-align: center;"><t t-esc="libros.editorial"/></td>
                              <td height="50" width="200" style="text-align: center;"><t t-esc="libros.name_autor"/></td>
                              <td height="50" width="200" style="text-align: center;"><t t-esc="libros.numero_paginas"/></td>
                              <td height="50" width="200" style="text-align: center;"><t t-esc="libros.numero_paginas / 2"/></td>
                          </tr>
                          
                          <tr>
                              <td colspan="4" style="text-align: center;"><t t-esc="tamano_libro"/></td>
                          </tr>
                      </table>
                      <label><b>Este libro lo puedes encontrar en: </b></label>
                      <label><t t-esc="libros.libreria.name_libreria"/></label><br/>
                      <label><b>Encargado: </b></label>
                      <label><t t-esc="libros.libreria.name_encargado"/></label>
                      
<!--                       <div style="color:red"><t t-esc="libros.name_libro"/></div>
                      <div><t t-esc="libros.editorial"/></div>
                      <div><t t-esc="libros.name_autor"/></div>
                      <div><t t-esc="libros.numero_paginas"/></div>
                      <div><t t-esc="libros.numero_paginas / 2"/></div> -->
                      <br/><br/><br/>
                  </t>
                  <label>Total de hojas de libros impresos: <t t-esc="total_paginas"/></label>
              </t>
          </t>
        </template>
    </data>
</odoo>